import FWCore.ParameterSet.Config as cms

resolvedEleCRanalyzer = cms.EDAnalyzer("ResolvedEleCRanalyzer",
  isMC = cms.bool(True),
  generator = cms.InputTag("generator"),
  pileupSummary = cms.InputTag("slimmedAddPileupInfo"),
  triggerResults = cms.InputTag("TriggerResults","","HLT"),
  srcEle = cms.InputTag("slimmedElectrons"),
  srcMuon = cms.InputTag("slimmedMuons"),
  srcPv = cms.InputTag("offlineSlimmedPrimaryVertices"),
  addGsfTrkMap = cms.InputTag("modifiedHEEPIDVarValueMaps2nd","eleAddGsfTrk"),
  recoSFpath = cms.FileInPath("ZprimeTo4l/Analysis/data/egammaEffi_ptAbove20_EGM2D_UL2016postVFP.root"),
  FFpath = cms.FileInPath("ZprimeTo4l/Analysis/data/REFF_20UL16.root"),
  PUrwgt = cms.FileInPath("ZprimeTo4l/Analysis/data/puWeights20UL16.json"),
  PUname = cms.string("Collisions16_UltraLegacy_goldenJSON"),
  METfilters = cms.InputTag("TriggerResults","","PAT"),
  triggerObjects = cms.InputTag("slimmedPatTrigger"),
  METfilterList = cms.vstring(
    "Flag_goodVertices",
    "Flag_globalSuperTightHalo2016Filter",
    "Flag_HBHENoiseFilter",
    "Flag_HBHENoiseIsoFilter",
    "EcalDeadCellTriggerPrimitiveFilter",
    "Flag_BadPFMuonFilter",
    "Flag_BadPFMuonDzFilter",
    "Flag_eeBadScFilter",
    "Flag_hfNoisyHitsFilter"
  ),
  trigFilters = cms.vstring(
    "hltEG33CaloIdLMWPMS2Filter",
    "hltEle33CaloIdLGsfTrkIdVLDPhiFilter"
  ),
  trigUnseededFilters = cms.vstring(
    "hltDiEle33CaloIdLMWPMS2UnseededFilter",
    "hltDiEle33CaloIdLGsfTrkIdVLDPhiUnseededFilter"
  ),
  etThres1 = cms.double(35.),
  etThres2 = cms.double(20.),
  ffSystCL95 = cms.double(0.5),
  modHeepSFpath = cms.FileInPath("ZprimeTo4l/Analysis/data/egammaEffi_modHeep_EGM2D_UL2016postVFP.root"),
  modHeepSFmuEB1 = cms.double(0.986),
  modHeepSFmuEB2 = cms.double(1.002),
  modHeepSFmuEE = cms.double(1.022),
  modHeepSFcl95EB1 = cms.double(0.02226),
  modHeepSFcl95EB2 = cms.double(0.03557),
  modHeepSFcl95EE = cms.double(0.05408),
  modHeepSFupperEB1 = cms.double(1.098),
  modHeepSFupperEB2 = cms.double(1.139),
  modHeepSFupperEE = cms.double(1.344),
  modHeepPolEB1str = cms.string("2.805*0.000001*x+0.986"),
  modHeepPolEB2str = cms.string("3.102*0.000001*x+1.001"),
  modHeepPolEEstr = cms.string("0.0001103*x+1.010"),
  trigSFpath = cms.FileInPath("ZprimeTo4l/Analysis/data/egammaEffi_passingDoubleEle33_EGM2D_UL2016postVFP.root"),
  trigUnseededSFpath = cms.FileInPath("ZprimeTo4l/Analysis/data/egammaEffi_passingDoubleEle33unseeded_EGM2D_UL2016postVFP.root"),
  trigSF = cms.vdouble(0.994,0.999,0.997),
  trigSFcl95 = cms.vdouble(0.001724,0.001826,0.001514),
  trigSFupper = cms.vdouble(1.002,1.002,1.001),
  trigPol = cms.vstring("5.591*0.000001*x+0.994","-5.228*0.000001*x+1.000","2.738*0.000001*x+0.995"),
  trigUnseededSF = cms.vdouble(1.001,1.001,0.999),
  trigUnseededSFcl95 = cms.vdouble(0.001553,0.001571,0.001475),
  trigUnseededSFupper = cms.vdouble(1.002,1.001,1.001),
  trigUnseededPol = cms.vstring("1.482*0.000001*x+1.001","-5.783*0.000001*x+1.002","-1.141*0.0000001*x+0.999")
)

resolvedEleCRanalyzer20UL16APV = resolvedEleCRanalyzer.clone(
  recoSFpath = cms.FileInPath("ZprimeTo4l/Analysis/data/egammaEffi_ptAbove20_EGM2D_UL2016preVFP.root"),
  FFpath = cms.FileInPath("ZprimeTo4l/Analysis/data/REFF_20UL16APV.root"),
  PUrwgt = cms.FileInPath("ZprimeTo4l/Analysis/data/puWeights20UL16APV.json"),
  PUname = cms.string("Collisions16_UltraLegacy_goldenJSON"),
  etThres1 = cms.double(35.),
  modHeepSFpath = cms.FileInPath("ZprimeTo4l/Analysis/data/egammaEffi_modHeep_EGM2D_UL2016preVFP.root"),
  modHeepSFmuEB1 = cms.double(0.996),
  modHeepSFmuEB2 = cms.double(1.000),
  modHeepSFmuEE = cms.double(1.006),
  modHeepSFcl95EB1 = cms.double(0.03649),
  modHeepSFcl95EB2 = cms.double(0.03954),
  modHeepSFcl95EE = cms.double(0.05728),
  modHeepSFupperEB1 = cms.double(1.117),
  modHeepSFupperEB2 = cms.double(1.113),
  modHeepSFupperEE = cms.double(1.213),
  modHeepPolEB1str = cms.string("-7.931*0.000001*x+0.998"),
  modHeepPolEB2str = cms.string("-3.003*0.00001*x+1.010"),
  modHeepPolEEstr = cms.string("1.211*0.000001*x+1.005"),
  trigSFpath = cms.FileInPath("ZprimeTo4l/Analysis/data/egammaEffi_passingDoubleEle33_EGM2D_UL2016preVFP.root"),
  trigUnseededSFpath = cms.FileInPath("ZprimeTo4l/Analysis/data/egammaEffi_passingDoubleEle33unseeded_EGM2D_UL2016preVFP.root"),
  trigSF = cms.vdouble(0.988,0.997,0.997),
  trigSFcl95 = cms.vdouble(0.001766,0.002793,0.001414),
  trigSFupper = cms.vdouble(1.002,1.002,1.0),
  trigPol = cms.vstring("1.968*0.000001*x+0.988","-5.954*0.000001*x+0.999","2.101*0.000001*x+0.996"),
  trigUnseededSF = cms.vdouble(0.994,0.997,0.998),
  trigUnseededSFcl95 = cms.vdouble(0.001465,0.001854,0.001355),
  trigUnseededSFupper = cms.vdouble(1.001,1.002,1.0),
  trigUnseededPol = cms.vstring("1.526*0.000001*x+0.994","-3.987*0.000001*x+0.997","5.659*0.0000001*x+0.998")
)

resolvedEleCRanalyzer20UL17 = resolvedEleCRanalyzer.clone(
  recoSFpath = cms.FileInPath("ZprimeTo4l/Analysis/data/egammaEffi_ptAbove20_EGM2D_UL2017.root"),
  FFpath = cms.FileInPath("ZprimeTo4l/Analysis/data/REFF_20UL17.root"),
  PUrwgt = cms.FileInPath("ZprimeTo4l/Analysis/data/puWeights20UL17.json"),
  PUname = cms.string("Collisions17_UltraLegacy_goldenJSON"),
  METfilterList = cms.vstring(
    "Flag_goodVertices",
    "Flag_globalSuperTightHalo2016Filter",
    "Flag_HBHENoiseFilter",
    "Flag_HBHENoiseIsoFilter",
    "EcalDeadCellTriggerPrimitiveFilter",
    "Flag_BadPFMuonFilter",
    "Flag_BadPFMuonDzFilter",
    "Flag_eeBadScFilter",
    "Flag_hfNoisyHitsFilter",
    "Flag_ecalBadCalibFilter"
  ),
  trigFilters = cms.vstring(
    "hltEle33CaloIdLMWPMS2Filter",
  ),
  trigUnseededFilters = cms.vstring(
    "hltDiEle33CaloIdLMWPMS2UnseededFilter",
  ),
  etThres1 = cms.double(35.),
  modHeepSFpath = cms.FileInPath("ZprimeTo4l/Analysis/data/egammaEffi_modHeep_EGM2D_UL2017.root"),
  modHeepSFmuEB1 = cms.double(0.986),
  modHeepSFmuEB2 = cms.double(0.993),
  modHeepSFmuEE = cms.double(0.996),
  modHeepSFcl95EB1 = cms.double(0.01585),
  modHeepSFcl95EB2 = cms.double(0.0199),
  modHeepSFcl95EE = cms.double(0.02101),
  modHeepSFupperEB1 = cms.double(1.117),
  modHeepSFupperEB2 = cms.double(1.092),
  modHeepSFupperEE = cms.double(1.142),
  modHeepPolEB1str = cms.string("2.752*0.00001*x+0.982"),
  modHeepPolEB2str = cms.string("2.542*0.00001*x+0.988"),
  modHeepPolEEstr = cms.string("9.058*0.00001*x+0.986"),
  trigSFpath = cms.FileInPath("ZprimeTo4l/Analysis/data/egammaEffi_passingDoubleEle33_EGM2D_UL2017.root"),
  trigUnseededSFpath = cms.FileInPath("ZprimeTo4l/Analysis/data/egammaEffi_passingDoubleEle33unseeded_EGM2D_UL2017.root"),
  trigSF = cms.vdouble(0.981,0.986,0.989),
  trigSFcl95 = cms.vdouble(0.00227,0.002257,0.002873),
  trigSFupper = cms.vdouble(1.020,1.022,1.020),
  trigPol = cms.vstring("1.396*0.00001*x+0.980","1.968*0.00001*x+0.985","4.076*0.000001*x+0.989"),
  trigUnseededSF = cms.vdouble(0.991,0.991,0.998),
  trigUnseededSFcl95 = cms.vdouble(0.002056,0.002012,0.002629),
  trigUnseededSFupper = cms.vdouble(1.019,1.021,1.018),
  trigUnseededPol = cms.vstring("5.299*0.000001*x+0.990","1.81*0.00001*x+0.990","-1.225*0.00001*x+0.999")
)

resolvedEleCRanalyzer20UL18 = resolvedEleCRanalyzer.clone(
  recoSFpath = cms.FileInPath("ZprimeTo4l/Analysis/data/egammaEffi_ptAbove20_EGM2D_UL2018.root"),
  modHeepSFpath = cms.FileInPath("ZprimeTo4l/Analysis/data/egammaEffi_modHeep_EGM2D_UL2018.root"),
  FFpath = cms.FileInPath("ZprimeTo4l/Analysis/data/REFF_20UL18.root"),
  PUrwgt = cms.FileInPath("ZprimeTo4l/Analysis/data/puWeights20UL18.json"),
  PUname = cms.string("Collisions18_UltraLegacy_goldenJSON"),
  METfilterList = cms.vstring(
    "Flag_goodVertices",
    "Flag_globalSuperTightHalo2016Filter",
    "Flag_HBHENoiseFilter",
    "Flag_HBHENoiseIsoFilter",
    "EcalDeadCellTriggerPrimitiveFilter",
    "Flag_BadPFMuonFilter",
    "Flag_BadPFMuonDzFilter",
    "Flag_eeBadScFilter",
    "Flag_hfNoisyHitsFilter",
    "Flag_ecalBadCalibFilter"
  ),
  trigFilters = cms.vstring(
    "hltEle25CaloIdLMWPMS2Filter",
  ),
  trigUnseededFilters = cms.vstring(
    "hltDiEle25CaloIdLMWPMS2UnseededFilter",
  ),
  etThres1 = cms.double(28.),
  modHeepSFmuEB1 = cms.double(0.980),
  modHeepSFmuEB2 = cms.double(0.983),
  modHeepSFmuEE = cms.double(0.998),
  modHeepSFcl95EB1 = cms.double(0.01631),
  modHeepSFcl95EB2 = cms.double(0.02315),
  modHeepSFcl95EE = cms.double(0.0391),
  modHeepSFupperEB1 = cms.double(1.111),
  modHeepSFupperEB2 = cms.double(1.126),
  modHeepSFupperEE = cms.double(1.126),
  modHeepPolEB1str = cms.string("4.257*0.00001*x+0.977"),
  modHeepPolEB2str = cms.string("1.915*0.00001*x+0.981"),
  modHeepPolEEstr = cms.string("2.257*0.00001*x+0.992"),
  trigSFpath = cms.FileInPath("ZprimeTo4l/Analysis/data/egammaEffi_passingDoubleEle25_EGM2D_UL2018.root"),
  trigUnseededSFpath = cms.FileInPath("ZprimeTo4l/Analysis/data/egammaEffi_passingDoubleEle25unseeded_EGM2D_UL2018.root"),
  trigSF = cms.vdouble(0.988,0.990,1.002),
  trigSFcl95 = cms.vdouble(0.001739,0.001873,0.002076),
  trigSFupper = cms.vdouble(1.014,1.020,1.012),
  trigPol = cms.vstring("2.233*0.00001*x+0.986","2.01*0.00001*x+0.989","-1.222*0.00001*x+1.003"),
  trigUnseededSF = cms.vdouble(0.995,0.992,0.996),
  trigUnseededSFcl95 = cms.vdouble(0.00144,0.001676,0.001624),
  trigUnseededSFupper = cms.vdouble(1.014,1.018,1.012),
  trigUnseededPol = cms.vstring("-1.788*0.000001*x+0.995","6.763*0.000001*x+0.992","-5.956*0.000001*x+0.997")
)
